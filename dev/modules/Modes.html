<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Modes.jl · Luna Documentation</title><meta name="title" content="Modes.jl · Luna Documentation"/><meta property="og:title" content="Modes.jl · Luna Documentation"/><meta property="twitter:title" content="Modes.jl · Luna Documentation"/><meta name="description" content="Documentation for Luna Documentation."/><meta property="og:description" content="Documentation for Luna Documentation."/><meta property="twitter:description" content="Documentation for Luna Documentation."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">Luna Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Home</a></li><li><span class="tocitem">The numerical model</span><ul><li><a class="tocitem" href="../model/model.html">General description</a></li><li><a class="tocitem" href="../model/modal_decompositions.html">Modal decompositions</a></li><li><a class="tocitem" href="../model/nonlinear_responses.html">Nonlinear responses</a></li></ul></li><li><a class="tocitem" href="../interface.html">The simple interface</a></li><li><a class="tocitem" href="../scans.html">Parameter scans</a></li><li><span class="tocitem">Modules</span><ul><li><a class="tocitem" href="Antiresonant.html">Antiresonant.jl</a></li><li><a class="tocitem" href="Capillary.html">Capillary.jl</a></li><li><a class="tocitem" href="Fields.html">Fields.jl</a></li><li><a class="tocitem" href="Grid.html">Grid.jl</a></li><li><a class="tocitem" href="Ionisation.html">Ionisation.jl</a></li><li><a class="tocitem" href="LinearOps.html">LinearOps.jl</a></li><li class="is-active"><a class="tocitem" href="Modes.html">Modes.jl</a></li><li><a class="tocitem" href="Nonlinear.html">Nonlinear.jl</a></li><li><a class="tocitem" href="NonlinearRHS.html">NonlinearRHS.jl</a></li><li><a class="tocitem" href="Output.html">Output.jl</a></li><li><a class="tocitem" href="PhysData.html">PhysData.jl</a></li><li><a class="tocitem" href="Plotting.html">Plotting.jl</a></li><li><a class="tocitem" href="Processing.html">Processing.jl</a></li><li><a class="tocitem" href="Raman.html">Raman.jl</a></li><li><a class="tocitem" href="RectModes.html">RectModes.jl</a></li><li><a class="tocitem" href="Scans.html">Scans.jl</a></li><li><a class="tocitem" href="Stats.html">Stats.jl</a></li><li><a class="tocitem" href="Tools.html">Tools.jl</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Modules</a></li><li class="is-active"><a href="Modes.html">Modes.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="Modes.html">Modes.jl</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/LupoLab/Luna.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/LupoLab/Luna.jl/blob/master/docs/src/modules/Modes.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Modes.jl"><a class="docs-heading-anchor" href="#Modes.jl">Modes.jl</a><a id="Modes.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Modes.jl" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.AbstractMode" href="#Luna.Modes.AbstractMode"><code>Luna.Modes.AbstractMode</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractMode</code></pre><p>Abstract type representing a single mode of a waveguide.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L14-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.ToSpace-Tuple{Any}" href="#Luna.Modes.ToSpace-Tuple{Any}"><code>Luna.Modes.ToSpace</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ToSpace(ms; components=:xy)</code></pre><p>Construct a <code>ToSpace</code> for high performance conversion between modal fields and real space.</p><p><strong>Arguments</strong></p><ul><li><code>ms::Tuple</code>: a tuple of modes</li><li><code>components::Symbol</code>: which polarisation components to return: :x, :y, :xy</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L417-L425">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.Aeff-Tuple{Luna.Modes.AbstractMode}" href="#Luna.Modes.Aeff-Tuple{Luna.Modes.AbstractMode}"><code>Luna.Modes.Aeff</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Aeff(m::AbstractMode; z=0.0)</code></pre><p>Get effective area of mode <code>m</code> and longitudinal position <code>z</code>.</p><p>This is the brute-force implementation valid for any mode.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L93-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.Exy-Tuple{Luna.Modes.AbstractMode, Any}" href="#Luna.Modes.Exy-Tuple{Luna.Modes.AbstractMode, Any}"><code>Luna.Modes.Exy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Exy(m::AbstractMode, xs; z=0.0)</code></pre><p>Get the normalised field components at position <code>xs</code>, <code>z</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L66-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.Exy-Tuple{Luna.Modes.AbstractMode}" href="#Luna.Modes.Exy-Tuple{Luna.Modes.AbstractMode}"><code>Luna.Modes.Exy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Exy(m::AbstractMode; z=0.0)</code></pre><p>Create function that returns normalised (xs) -&gt; (Ex, Ey)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L73-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.N-Tuple{Luna.Modes.AbstractMode}" href="#Luna.Modes.N-Tuple{Luna.Modes.AbstractMode}"><code>Luna.Modes.N</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">N(m::AbstractMode; z=0.0)</code></pre><p>Get mode normalization constant of mode <code>m</code> at longitudinal position <code>z</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L48-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.absE-Tuple{Luna.Modes.AbstractMode, Any}" href="#Luna.Modes.absE-Tuple{Luna.Modes.AbstractMode, Any}"><code>Luna.Modes.absE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">absE(m::AbstractMode, xs; z=0.0)</code></pre><p>Get the field norm <span>$|E|$</span> at position <code>xs</code>, <code>z</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L79-L83">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.absE-Tuple{Luna.Modes.AbstractMode}" href="#Luna.Modes.absE-Tuple{Luna.Modes.AbstractMode}"><code>Luna.Modes.absE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">absE(m::AbstractMode; z=0.0)</code></pre><p>Create function that returns normalised (xs) -&gt; <span>$|E|$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L86-L90">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.arbitrary-Tuple{}" href="#Luna.Modes.arbitrary-Tuple{}"><code>Luna.Modes.arbitrary</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">arbitrary(kwargs...)</code></pre><p>Create an arbitrary mode, which takes its methods from given functions. </p><p>The functions given should have the same signature as defined <code>Luna.Modes</code>, <strong>except</strong> that the first argument (the <code>AbstractMode</code>) is omitted, e.g. for <code>neff</code> the function should be of the form <code>n(ω; z) = ...</code></p><p>To define <code>neff</code> with functions for <code>α</code> and <code>β</code>, create the <code>neff</code> function using <a href="Modes.html#Luna.Modes.neff_from_αβ-Tuple{Any, Any}"><code>neff_from_αβ</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L582-L593">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.chkzkwarg-Tuple{Any}" href="#Luna.Modes.chkzkwarg-Tuple{Any}"><code>Luna.Modes.chkzkwarg</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">chkzkwarg(func)</code></pre><p>Check that function accepts <code>z</code> keyword argument and add it if necessary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L246-L250">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.dB_per_m-Tuple{Luna.Modes.AbstractMode, Any}" href="#Luna.Modes.dB_per_m-Tuple{Luna.Modes.AbstractMode, Any}"><code>Luna.Modes.dB_per_m</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dB_per_m(m::AbstractMode, ω; z=0.0)</code></pre><p>Calculate the attenuation in dB/m for the mode <code>m</code> at frequency <code>ω</code> and longitudinal position <code>z</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L158-L163">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.delegated-Tuple{Any}" href="#Luna.Modes.delegated-Tuple{Any}"><code>Luna.Modes.delegated</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">delegated(mode, kwargs...)</code></pre><p>Create a delegated mode, which takes its methods from an existing mode except for those which are overwritten</p><p><strong>Arguments:</strong></p><ul><li><code>mode::AbstractMode</code>: The wrapped mode to which non-specified methods are delegated</li><li><code>kwargs</code>: functions that override: <code>neff</code>, <code>field</code>, <code>dimlimits</code>, <code>Aeff</code>, or <code>N</code>.</li></ul><p>The functions given should have the <strong>same signature</strong> as the mode methods, i.e. take an <code>AbstractMode</code> as their first argument, <strong>even if</strong> they do not do anything with it. This is to ensure that the delegated functions can access the data of the wrapped mode if necessary.</p><p>To override <code>neff</code> with functions for <code>α</code> and <code>β</code>, create the <code>neff</code> function using <a href="Modes.html#Luna.Modes.neff_from_αβ-Tuple{Any, Any}"><code>neff_from_αβ</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L541-L556">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.dimlimits" href="#Luna.Modes.dimlimits"><code>Luna.Modes.dimlimits</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dimlimits(m::AbstractMode; z=0.0)</code></pre><p>Maximum dimensional limits of validity for mode <code>m</code> at position <code>z</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L27-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.dispersion-Tuple{Luna.Modes.AbstractMode, Any, Any}" href="#Luna.Modes.dispersion-Tuple{Luna.Modes.AbstractMode, Any, Any}"><code>Luna.Modes.dispersion</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dispersion_func(m::AbstractMode, order; z=0.0)</code></pre><p>Calculate the dispersion of a given <code>order</code> at frequency <code>ω</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L191-L195">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.dispersion_func-Tuple{Luna.Modes.AbstractMode, Any}" href="#Luna.Modes.dispersion_func-Tuple{Luna.Modes.AbstractMode, Any}"><code>Luna.Modes.dispersion_func</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dispersion_func(m::AbstractMode, order; z=0.0)</code></pre><p>Get a function <code>βn(ω)</code> which returns the dispersion of a given <code>order</code> at frequency <code>ω</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L181-L185">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.field" href="#Luna.Modes.field"><code>Luna.Modes.field</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">field(m::AbstractMode, xs; z=0.0)</code></pre><p>Get the field components <code>(Ex, Ey)</code><code>at position</code>xs<code>,</code>z`</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.field-Tuple{Luna.Modes.AbstractMode}" href="#Luna.Modes.field-Tuple{Luna.Modes.AbstractMode}"><code>Luna.Modes.field</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">field(m::AbstractMode; z=0)</code></pre><p>Create function of coords that returns (xs) -&gt; (Ex, Ey) for the mode <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L41-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.losslength-Tuple{Luna.Modes.AbstractMode, Any}" href="#Luna.Modes.losslength-Tuple{Luna.Modes.AbstractMode, Any}"><code>Luna.Modes.losslength</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">losslength(m::AbstractMode, ω; z=0.0)</code></pre><p>Calculate the losslength (<span>$1/α$</span>) for the mode <code>m</code> at frequency <code>ω</code> and longitudinal position <code>z</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L148-L153">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.neff" href="#Luna.Modes.neff"><code>Luna.Modes.neff</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">neff(m::AbstractMode, ω; z=0.0)</code></pre><p>Get the full complex refractive index of mode <code>m</code> at frequency <code>ω</code> and longitudinal position <code>z</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L120-L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.neff_from_αβ-Tuple{Any, Any}" href="#Luna.Modes.neff_from_αβ-Tuple{Any, Any}"><code>Luna.Modes.neff_from_αβ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">neff_from_αβ(α, β)</code></pre><p>Create a closure converting the functions <code>α(ω; z)</code> and <code>β(ω; z)</code> into an effective index.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L616-L620">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.orthogonal-Tuple{Luna.Modes.AbstractMode, Luna.Modes.AbstractMode}" href="#Luna.Modes.orthogonal-Tuple{Luna.Modes.AbstractMode, Luna.Modes.AbstractMode}"><code>Luna.Modes.orthogonal</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">orthogonal(mode1, mode2)</code></pre><p>Test whether the <code>AbstractMode</code>s <code>mode1</code> and <code>mode2</code> are orthogonal to each other.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L382-L386">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.orthonormal-Tuple{Any}" href="#Luna.Modes.orthonormal-Tuple{Any}"><code>Luna.Modes.orthonormal</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">orthonormal(modes)</code></pre><p>Test whether the <code>modes</code> form an orthonormal set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L392-L396">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.overlap-Tuple{Luna.Modes.AbstractMode, Any, Any}" href="#Luna.Modes.overlap-Tuple{Luna.Modes.AbstractMode, Any, Any}"><code>Luna.Modes.overlap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">overlap(m::AbstractMode, r, E; dim)</code></pre><p>Calculate mode overlap between radially symmetric field and radially symmetric mode.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; a = 100e-6;
julia&gt; m = Capillary.MarcatiliMode(a, :He, 1.0);
julia&gt; unm = approx_besselroots(0, 1)[end]
julia&gt; r = collect(range(0, a, length=512));
julia&gt; Er = besselj.(0, unm*r/a);

julia&gt; η = Modes.overlap(m, r, Er; dim=1);
julia&gt; abs2(η[1]) ≈ 1
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L265-L282">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.overlap-Tuple{Luna.Modes.AbstractMode, Any}" href="#Luna.Modes.overlap-Tuple{Luna.Modes.AbstractMode, Any}"><code>Luna.Modes.overlap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">overlap(m::AbstractMode, E)</code></pre><p>Calculate mode overlap between (analytic) 2D field <code>E</code> and mode <code>m</code>. The field function <code>E(xs)</code> should return the normalised cartesian vector components of the field <code>(Ex, Ey)</code> as an <code>SVector</code> as a function of polar coordinates <code>xs = (r,θ)</code>. ```</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L314-L322">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.overlap-Tuple{Luna.Modes.AbstractMode, Luna.Modes.AbstractMode}" href="#Luna.Modes.overlap-Tuple{Luna.Modes.AbstractMode, Luna.Modes.AbstractMode}"><code>Luna.Modes.overlap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">overlap(mode1, mode2)</code></pre><p>Calculate the normalised overlap between two <code>AbstractMode</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L372-L376">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.overlap-Tuple{Union{Tuple{Vararg{Luna.Modes.AbstractMode}}, AbstractArray{T} where T&lt;:Luna.Modes.AbstractMode}, Luna.Grid.RealGrid, Luna.Grid.RealGrid, Any, Any}" href="#Luna.Modes.overlap-Tuple{Union{Tuple{Vararg{Luna.Modes.AbstractMode}}, AbstractArray{T} where T&lt;:Luna.Modes.AbstractMode}, Luna.Grid.RealGrid, Luna.Grid.RealGrid, Any, Any}"><code>Luna.Modes.overlap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">overlap(modes::ModeCollection, newgrid, oldgrid, r, Eωr)</code></pre><p>Decompose the spatio-spectral field <code>Eωr</code>, sampled on radial coordinate <code>r</code> and time-grid <code>oldgrid</code>, into the given <code>modes</code> and resample onto <code>newgrid</code> via cubic interpolation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L331-L336">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.to_space!-Tuple{Any, Any, Any, Luna.Modes.ToSpace}" href="#Luna.Modes.to_space!-Tuple{Any, Any, Any, Luna.Modes.ToSpace}"><code>Luna.Modes.to_space!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">to_space!(Erω, Emω, xs, ts::ToSpace; z=0.0)</code></pre><p>Convert from modal fields to real space using provided <code>ToSpace</code> struct.</p><p><strong>Arguments</strong></p><ul><li><code>Erω::Array{ComplexF64}</code>: a dimension nω x npol array where the real space frequency domain                           field will be written to</li><li><code>Emω::Array{ComplexF64}</code>: a dimension nω x nmodes array containing the frequency domain                           modal fields</li><li><code>xs:Tuple</code>: the transverse coordinates, <code>x,y</code> for cartesian, <code>r,θ</code> for polar</li><li><code>ts::ToSpace</code>: the corresponding <code>ToSpace</code> struct</li><li><code>z::Real</code>: the axial position</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L442-L455">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.to_space-Tuple{Any, Any, Any}" href="#Luna.Modes.to_space-Tuple{Any, Any, Any}"><code>Luna.Modes.to_space</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">to_space(Emω, xs, ms; components=:xy, z=0.0)</code></pre><p>Convert from modal fields to real space.</p><p><strong>Arguments</strong></p><ul><li><code>Emω::Array{ComplexF64}</code>: a dimension nω x nmodes array containing the frequency domain                           modal fields</li><li><code>xs:Tuple</code>: the transverse coordinates, <code>x,y</code> for cartesian, <code>r,θ</code> for polar</li><li><code>ms::Tuple</code>: a tuple of modes</li><li><code>components::Symbol</code>: which polarisation components to return: :x, :y, :xy</li><li><code>z::Real</code>: the axial position</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L512-L524">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.to_space-Tuple{Any, Any, Luna.Modes.ToSpace}" href="#Luna.Modes.to_space-Tuple{Any, Any, Luna.Modes.ToSpace}"><code>Luna.Modes.to_space</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">to_space(Emω, xs, ts::ToSpace; z=0.0)</code></pre><p>Convert from modal fields to real space using provided <code>ToSpace</code> struct.</p><p><strong>Arguments</strong></p><ul><li><code>Emω::Array{ComplexF64}</code>: a dimension nω x nmodes array containing the frequency domain                           modal fields</li><li><code>xs:Tuple</code>: the transverse coordinates, <code>x,y</code> for cartesian, <code>r,θ</code> for polar</li><li><code>ts::ToSpace</code>: the corresponding <code>ToSpace</code> struct</li><li><code>z::Real</code>: the axial position</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L494-L505">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.transmission-Tuple{Luna.Modes.AbstractMode, Any, Any}" href="#Luna.Modes.transmission-Tuple{Luna.Modes.AbstractMode, Any, Any}"><code>Luna.Modes.transmission</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">transmission(m::AbstractMode, ω, L)</code></pre><p>Calculate the power transmission after propagation through length <code>L</code> in the mode <code>m</code> for radiation at the frequency <code>ω</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L168-L173">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.zdw-Tuple{Luna.Modes.AbstractMode, Any}" href="#Luna.Modes.zdw-Tuple{Luna.Modes.AbstractMode, Any}"><code>Luna.Modes.zdw</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">zdw(m::AbstractMode, λ0; z=0.0, rtol=1e-4)</code></pre><p>Calculate the zero-dispersion wavelength (ZDW) of mode <code>m</code> with an initial guess of <code>λ0</code>.</p><p>This method is faster than the bounded version if the ZDW is known to be close to <code>λ0</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L216-L222">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.zdw-Tuple{Luna.Modes.AbstractMode}" href="#Luna.Modes.zdw-Tuple{Luna.Modes.AbstractMode}"><code>Luna.Modes.zdw</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">zdw(m::AbstractMode; λmin=100e-9, λmax=3000e-9, z=0.0)</code></pre><p>Calculate the zero-dispersion wavelength (ZDW) of mode <code>m</code> within the range <code>ub</code> to <code>lb</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L200-L204">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.α-Tuple{Luna.Modes.AbstractMode, Any}" href="#Luna.Modes.α-Tuple{Luna.Modes.AbstractMode, Any}"><code>Luna.Modes.α</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">α(m::AbstractMode, ω; z=0.0)</code></pre><p>Calculate the attenuation constant <span>$α$</span> for the mode <code>m</code> at frequency <code>ω</code> and longitudinal position <code>z</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L138-L143">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.β-Tuple{Luna.Modes.AbstractMode, Any}" href="#Luna.Modes.β-Tuple{Luna.Modes.AbstractMode, Any}"><code>Luna.Modes.β</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">β(m::AbstractMode, ω; z=0.0)</code></pre><p>Calculate the propagation constant <span>$β$</span> for the mode <code>m</code> at frequency <code>ω</code> and longitudinal position <code>z</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L128-L133">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Luna.Modes.β_ret-Tuple{Luna.Modes.AbstractMode, Any}" href="#Luna.Modes.β_ret-Tuple{Luna.Modes.AbstractMode, Any}"><code>Luna.Modes.β_ret</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">β_ret(m::AbstractMode, ω; z=0, λ0)</code></pre><p>Calculate the propagation constant <span>$β$</span> for mode <code>m</code> transformed into a frame which moves with the group and phase velocity of <code>m</code> at wavelength <code>λ0</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LupoLab/Luna.jl/blob/4ffaab5b09c1f18d386d6701081625c9edc2d618/src/Modes.jl#L235-L240">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="LinearOps.html">« LinearOps.jl</a><a class="docs-footer-nextpage" href="Nonlinear.html">Nonlinear.jl »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Tuesday 31 October 2023 11:34">Tuesday 31 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
